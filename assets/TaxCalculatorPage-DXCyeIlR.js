import{r as A,j as e}from"./vendor-react-DBCfnrhl.js";import{u as X,o as O,n as E,d as Q,e as H}from"./vendor-forms-CFKK8WlG.js";import{t as W,F as Y,a as N,b as y,c as S,d as C,f as R,e as w}from"./form-DFoyn83f.js";import{f as p,i as b,j as v,C as q,k as ee,g as j,N as F,r as m,O as se,B as M,Q as ae,s as z,S as D,T as V}from"./index-DcXiqUAx.js";import{I}from"./input-z4Lhteh3.js";import{S as ne,a as re,b as te,c as ie,d as Z}from"./select-D_Qyjkpi.js";import{T as le,a as ce,b as B,c as G}from"./tabs-MAdf1hEl.js";import{R as $,i as oe,j as de,k as K,T as L,o as xe,C as me,X as ue,Y as he,n as ge}from"./vendor-charts-DBSHaJr6.js";import"./vendor-ui-BoghYNww.js";import"./label-B4NVDCGn.js";import"./vendor-utils-XM2idSp9.js";const k={tax:{capitalGainsTaxBaseRate:.25,solidaritySurchargeRate:.055,ruerupMaxContribution:27566,ruerupDeductibleRate:.96}},_=(k.tax.capitalGainsTaxBaseRate+k.tax.capitalGainsTaxBaseRate*k.tax.solidaritySurchargeRate)*100,h={basicAllowance:11604,progressionZone1End:17005,progressionZone2End:66760,topTaxZoneStart:277826};function pe(a,c){const s=c==="married"?a/2:a;let o=0;if(s<=h.basicAllowance)o=0;else if(s<=h.progressionZone1End){const i=(s-h.basicAllowance)/1e4;o=(922.98*i+1400)*i}else if(s<=h.progressionZone2End){const i=(s-17005)/1e4;o=(181.19*i+2397)*i+1025.38}else s<=h.topTaxZoneStart?o=.42*s-10602.13:o=.45*s-18936.88;return o=Math.floor(o),c==="married"&&(o=o*2),Math.max(0,o)}function je(a,c){const s=c==="married"?36936:18472;if(a<=s)return 0;const o=c==="married"?33963:16931.5,i=s;if(a<o){const t=(a-i)*.119;return Math.floor(t)}return Math.floor(a*.055)}function fe(a,c,s=.09){if(s===0)return 0;const o=a-c;return Math.floor(o*s)}function be(a){return a*9312}function ve(a,c){const s=c==="married"?a/2:a;return s<=h.basicAllowance?"Grundfreibetrag (0%)":s<=h.progressionZone1End?"Progressionszone 1 (14-24%)":s<=h.progressionZone2End?"Progressionszone 2 (24-42%)":s<=h.topTaxZoneStart?"Proportionalzone (42%)":"Reichensteuer (45%)"}function Te(a,c){const s=c==="married"?a/2:a;return s<=h.basicAllowance?0:s<=h.progressionZone1End?(1845.96*((s-h.basicAllowance)/1e4)+1400)/100:s<=h.progressionZone2End?(362.38*((s-17005)/1e4)+2397)/100:s<=h.topTaxZoneStart?42:45}function P(a){const{annualGrossIncome:c,maritalStatus:s,churchTaxRate:o=0,specialExpenses:i=0,extraordinaryExpenses:t=0,children:l=0}=a,x=be(l),u=Math.max(0,c-i-t-x),g=pe(u,s),T=je(g,s),n=fe(g,T,o),f=g+T+n,r=c-f,d=c>0?f/c*100:0,J=Te(u,s),U=ve(u,s);return{taxableIncome:u,incomeTax:g,solidaritySurcharge:T,churchTax:n,totalTax:f,netIncome:r,averageTaxRate:d,marginalTaxRate:J,taxBracket:U,breakdown:{grossIncome:c,specialExpenses:i,extraordinaryExpenses:t,childRelief:x,taxableIncome:u,incomeTax:g,solidaritySurcharge:T,churchTax:n,totalTax:f,netIncome:r}}}function Ne(a,c,s,o=0){const i=P({annualGrossIncome:a,maritalStatus:s,children:o,specialExpenses:0}),t=P({annualGrossIncome:a,maritalStatus:s,children:o,specialExpenses:c}),l=i.totalTax-t.totalTax,x=c>0?l/c*100:0;return{taxWithoutPension:i.totalTax,taxWithPension:t.totalTax,savings:l,savingsRate:x}}const ye=O({annualGrossIncome:E().min(0).max(1e7),maritalStatus:H(["single","married"]),children:E().min(0).max(20),churchTaxRate:E().min(0).max(.09),includeChurchTax:Q(),specialExpenses:E().min(0).max(1e6),extraordinaryExpenses:E().min(0).max(1e6),pensionContribution:E().min(0).max(1e5)}),Se=({language:a="de",initialIncome:c=6e4})=>{const[s,o]=A.useState(!1),i=X({resolver:W(ye),defaultValues:{annualGrossIncome:c,maritalStatus:"single",children:0,churchTaxRate:.09,includeChurchTax:!1,specialExpenses:0,extraordinaryExpenses:0,pensionContribution:0}}),t=i.watch(),l=A.useMemo(()=>P({annualGrossIncome:t.annualGrossIncome,maritalStatus:t.maritalStatus,children:t.children,churchTaxRate:t.includeChurchTax?t.churchTaxRate:0,specialExpenses:t.specialExpenses,extraordinaryExpenses:t.extraordinaryExpenses}),[t]),x=A.useMemo(()=>t.pensionContribution===0?null:Ne(t.annualGrossIncome,t.pensionContribution,t.maritalStatus,t.children),[t]),u=[{name:a==="de"?"Einkommensteuer":"Income Tax",value:l.incomeTax,color:"#3b82f6"},{name:a==="de"?"Solidaritätszuschlag":"Solidarity Surcharge",value:l.solidaritySurcharge,color:"#8b5cf6"}];l.churchTax>0&&u.push({name:a==="de"?"Kirchensteuer":"Church Tax",value:l.churchTax,color:"#f59e0b"});const g=[{name:a==="de"?"Brutto":"Gross",value:t.annualGrossIncome,fill:"#10b981"},{name:a==="de"?"Steuern":"Taxes",value:l.totalTax,fill:"#ef4444"},{name:a==="de"?"Netto":"Net",value:l.netIncome,fill:"#3b82f6"}],n={de:{title:"Steuerrechner 2024",description:"Berechnen Sie Ihre Einkommensteuer nach deutschem Steuerrecht",income:"Bruttoeinkommen (Jahr)",maritalStatus:"Familienstand",single:"Ledig",married:"Verheiratet",children:"Anzahl Kinder",churchTax:"Kirchensteuer",churchTaxRate:"Kirchensteuersatz",advanced:"Erweiterte Einstellungen",specialExpenses:"Sonderausgaben",extraordinaryExpenses:"Außergewöhnliche Belastungen",pensionContribution:"Altersvorsorgebeiträge",results:"Ergebnisse",taxableIncome:"Zu versteuerndes Einkommen",incomeTax:"Einkommensteuer",solidaritySurcharge:"Solidaritätszuschlag",totalTax:"Gesamtsteuerlast",netIncome:"Nettoeinkommen",averageTaxRate:"Durchschnitts­steuersatz",marginalTaxRate:"Grenzsteuersatz",taxBracket:"Steuerklasse",breakdown:"Steueraufschlüsselung",comparison:"Brutto-Netto-Vergleich",pensionSavings:"Steuerersparnis durch Altersvorsorge",savingsAmount:"Ersparnis",savingsRate:"Ersparnis-Quote",monthly:"/Monat",annually:"/Jahr"},en:{title:"Tax Calculator 2024",description:"Calculate your income tax according to German tax law",income:"Gross Income (Annual)",maritalStatus:"Marital Status",single:"Single",married:"Married",children:"Number of Children",churchTax:"Church Tax",churchTaxRate:"Church Tax Rate",advanced:"Advanced Settings",specialExpenses:"Special Expenses",extraordinaryExpenses:"Extraordinary Expenses",pensionContribution:"Pension Contributions",results:"Results",taxableIncome:"Taxable Income",incomeTax:"Income Tax",solidaritySurcharge:"Solidarity Surcharge",totalTax:"Total Tax",netIncome:"Net Income",averageTaxRate:"Average Tax Rate",marginalTaxRate:"Marginal Tax Rate",taxBracket:"Tax Bracket",breakdown:"Tax Breakdown",comparison:"Gross-Net Comparison",pensionSavings:"Tax Savings from Pension",savingsAmount:"Savings",savingsRate:"Savings Rate",monthly:"/month",annually:"/year"}}[a],f=({income:r,label:d})=>e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>i.setValue("annualGrossIncome",r),className:"text-xs",children:[d,": ",m(r)]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p,{children:[e.jsxs(b,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),n.title]}),e.jsx(ee,{children:n.description})]}),e.jsx(j,{children:e.jsx(Y,{...i,children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(f,{income:3e4,label:"30k"}),e.jsx(f,{income:45e3,label:"45k"}),e.jsx(f,{income:6e4,label:"60k"}),e.jsx(f,{income:8e4,label:"80k"}),e.jsx(f,{income:1e5,label:"100k"})]}),e.jsx(F,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(N,{control:i.control,name:"annualGrossIncome",render:({field:r})=>e.jsxs(y,{children:[e.jsx(S,{children:n.income}),e.jsx(C,{children:e.jsx(I,{type:"number",...r,onChange:d=>r.onChange(parseFloat(d.target.value)||0),className:"text-lg font-semibold"})}),e.jsxs(R,{children:[m(t.annualGrossIncome/12)," ",n.monthly]}),e.jsx(w,{})]})}),e.jsx(N,{control:i.control,name:"maritalStatus",render:({field:r})=>e.jsxs(y,{children:[e.jsx(S,{children:n.maritalStatus}),e.jsxs(ne,{onValueChange:r.onChange,defaultValue:r.value,children:[e.jsx(C,{children:e.jsx(re,{children:e.jsx(te,{})})}),e.jsxs(ie,{children:[e.jsx(Z,{value:"single",children:n.single}),e.jsx(Z,{value:"married",children:n.married})]})]}),e.jsx(w,{})]})}),e.jsx(N,{control:i.control,name:"children",render:({field:r})=>e.jsxs(y,{children:[e.jsx(S,{children:n.children}),e.jsx(C,{children:e.jsx(I,{type:"number",min:"0",max:"20",...r,onChange:d=>r.onChange(parseInt(d.target.value)||0)})}),e.jsx(w,{})]})}),e.jsx(N,{control:i.control,name:"includeChurchTax",render:({field:r})=>e.jsxs(y,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(S,{className:"text-base",children:n.churchTax}),e.jsxs(R,{children:[t.churchTaxRate*100,"%"]})]}),e.jsx(C,{children:e.jsx(se,{checked:r.value,onCheckedChange:r.onChange})})]})})]}),e.jsxs("div",{children:[e.jsxs(M,{type:"button",variant:"ghost",onClick:()=>o(!s),className:"w-full",children:[n.advanced," ",s?"▲":"▼"]}),s&&e.jsxs("div",{className:"mt-4 space-y-4 p-4 bg-muted/50 rounded-lg",children:[e.jsx(N,{control:i.control,name:"specialExpenses",render:({field:r})=>e.jsxs(y,{children:[e.jsx(S,{children:n.specialExpenses}),e.jsx(C,{children:e.jsx(I,{type:"number",...r,onChange:d=>r.onChange(parseFloat(d.target.value)||0)})}),e.jsx(R,{children:"z.B. Versicherungsbeiträge, Spenden"}),e.jsx(w,{})]})}),e.jsx(N,{control:i.control,name:"extraordinaryExpenses",render:({field:r})=>e.jsxs(y,{children:[e.jsx(S,{children:n.extraordinaryExpenses}),e.jsx(C,{children:e.jsx(I,{type:"number",...r,onChange:d=>r.onChange(parseFloat(d.target.value)||0)})}),e.jsx(R,{children:"z.B. Krankheitskosten, Pflegekosten"}),e.jsx(w,{})]})}),e.jsx(N,{control:i.control,name:"pensionContribution",render:({field:r})=>e.jsxs(y,{children:[e.jsx(S,{children:n.pensionContribution}),e.jsx(C,{children:e.jsx(I,{type:"number",...r,onChange:d=>r.onChange(parseFloat(d.target.value)||0)})}),e.jsx(R,{children:"Für Berechnung der Steuerersparnis"}),e.jsx(w,{})]})})]})]})]})})})]}),e.jsxs(le,{defaultValue:"overview",className:"w-full",children:[e.jsxs(ce,{className:"grid w-full grid-cols-3",children:[e.jsx(B,{value:"overview",children:n.results}),e.jsx(B,{value:"breakdown",children:n.breakdown}),e.jsx(B,{value:"comparison",children:n.comparison})]}),e.jsxs(G,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(p,{children:[e.jsx(b,{className:"pb-2",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:n.taxableIncome})}),e.jsxs(j,{children:[e.jsx("p",{className:"text-2xl font-bold",children:m(l.taxableIncome)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n.annually})]})]}),e.jsxs(p,{children:[e.jsx(b,{className:"pb-2",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:n.totalTax})}),e.jsxs(j,{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:m(l.totalTax)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m(l.totalTax/12)," ",n.monthly]})]})]}),e.jsxs(p,{children:[e.jsx(b,{className:"pb-2",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:n.netIncome})}),e.jsxs(j,{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:m(l.netIncome)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m(l.netIncome/12)," ",n.monthly]})]})]}),e.jsxs(p,{children:[e.jsx(b,{className:"pb-2",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:n.averageTaxRate})}),e.jsxs(j,{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l.averageTaxRate.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.marginalTaxRate,": ",l.marginalTaxRate.toFixed(1),"%"]})]})]})]}),e.jsx(p,{children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:[n.taxBracket,": ",l.taxBracket]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ihr Grenzsteuersatz beträgt ",l.marginalTaxRate.toFixed(1),"%"]})]})]})})}),x&&e.jsxs(p,{className:"border-green-200 bg-green-50",children:[e.jsx(b,{children:e.jsxs(v,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(z,{className:"h-5 w-5"}),n.pensionSavings]})}),e.jsxs(j,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:[n.savingsAmount,":"]}),e.jsx("span",{className:"text-xl font-bold text-green-700",children:m(x.savings)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:[n.savingsRate,":"]}),e.jsxs("span",{className:"text-lg font-semibold text-green-700",children:[x.savingsRate.toFixed(1),"%"]})]}),e.jsxs("p",{className:"text-xs text-green-700 mt-2",children:["Durch Altersvorsorgebeiträge von ",m(t.pensionContribution)," sparen Sie ",m(x.savings)," an Steuern!"]})]})]})]}),e.jsx(G,{value:"breakdown",children:e.jsxs(p,{children:[e.jsx(b,{children:e.jsx(v,{children:n.breakdown})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx($,{width:"100%",height:300,children:e.jsxs(oe,{children:[e.jsx(de,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:r,percent:d})=>`${r}: ${(d*100).toFixed(1)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((r,d)=>e.jsx(K,{fill:r.color},`cell-${d}`))}),e.jsx(L,{formatter:r=>m(r)})]})}),e.jsx(F,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsxs("span",{className:"text-muted-foreground",children:[n.incomeTax,":"]}),e.jsx("span",{className:"font-semibold",children:m(l.incomeTax)})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsxs("span",{className:"text-muted-foreground",children:[n.solidaritySurcharge,":"]}),e.jsx("span",{className:"font-semibold",children:m(l.solidaritySurcharge)})]}),l.churchTax>0&&e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsxs("span",{className:"text-muted-foreground",children:[n.churchTax,":"]}),e.jsx("span",{className:"font-semibold",children:m(l.churchTax)})]}),e.jsx(F,{}),e.jsxs("div",{className:"flex justify-between py-2 text-lg font-bold",children:[e.jsxs("span",{children:[n.totalTax,":"]}),e.jsx("span",{className:"text-red-600",children:m(l.totalTax)})]})]})]})})]})}),e.jsx(G,{value:"comparison",children:e.jsxs(p,{children:[e.jsx(b,{children:e.jsx(v,{children:n.comparison})}),e.jsx(j,{children:e.jsx($,{width:"100%",height:400,children:e.jsxs(xe,{data:g,children:[e.jsx(me,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"name"}),e.jsx(he,{tickFormatter:r=>`${(r/1e3).toFixed(0)}k`}),e.jsx(L,{formatter:r=>m(r)}),e.jsx(ge,{dataKey:"value",radius:[8,8,0,0],children:g.map((r,d)=>e.jsx(K,{fill:r.fill},`cell-${d}`))})]})})})]})})]})]})},Pe=()=>{const[a,c]=A.useState("de"),s=k.tax.ruerupMaxContribution.toLocaleString("de-DE"),o=k.tax.ruerupMaxContribution.toLocaleString("en-US"),i=Math.round(k.tax.ruerupDeductibleRate*100),t=_.toLocaleString("de-DE",{minimumFractionDigits:3,maximumFractionDigits:3}),l=_.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}),x={de:{title:"Steuerrechner für Private Altersvorsorge",subtitle:"Vergleichen Sie verschiedene Anlagestrategien für Ihre Altersvorsorge",benefits:{title:"Steuerliche Aspekte der Altersvorsorge:",items:[{icon:D,title:"Sonderausgabenabzug",description:`Bis zu ${s}€ (2024) können als Sonderausgaben abgesetzt werden – ${i}% absetzbar, 100% ab 2025`},{icon:V,title:"Sofortige Steuerersparnis",description:"Reduzierung der Einkommensteuer bereits im Jahr der Einzahlung"},{icon:z,title:"Nachgelagerte Besteuerung",description:"Besteuerung erst in der Rente, oft zu einem niedrigeren Steuersatz"}]},etfTaxes:{title:"ETF-Besteuerung im Vergleich:",items:["Vorabpauschale: Jährliche Besteuerung auch ohne Verkauf",`Abgeltungsteuer: ${t}% auf alle Gewinne`,"Keine Steuervorteile bei Einzahlung","Sofortige Besteuerung von Erträgen"]},disclaimer:"Hinweis: Diese Berechnung dient nur zur Orientierung. Für eine individuelle Beratung wenden Sie sich an einen Steuerberater oder Finanzberater."},en:{title:"Tax Calculator for Private Pension Plans",subtitle:"Compare different investment strategies for your retirement planning",benefits:{title:"Tax aspects of retirement planning:",items:[{icon:D,title:"Special Expense Deduction",description:`Up to €${o} (2024) can be deducted as special expenses – ${i}% deductible, 100% from 2025`},{icon:V,title:"Immediate Tax Savings",description:"Reduction of income tax already in the year of payment"},{icon:z,title:"Deferred Taxation",description:"Taxation only in retirement, often at a lower tax rate"}]},etfTaxes:{title:"ETF taxation in comparison:",items:["Advance lump sum: Annual taxation even without sale",`Capital gains tax: ${l}% on all profits`,"No tax advantages on contributions","Immediate taxation of returns"]},disclaimer:"Note: This calculation is for guidance only. For individual advice, consult a tax advisor or financial advisor."}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:x[a].title}),e.jsx("p",{className:"text-gray-600 mt-2",children:x[a].subtitle})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs(p,{children:[e.jsx(b,{children:e.jsx(v,{className:"text-green-600",children:x[a].benefits.title})}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:x[a].benefits.items.map((u,g)=>{const T=u.icon;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-lg",children:e.jsx(T,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:u.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:u.description})]})]},g)})})})]}),e.jsxs(p,{children:[e.jsx(b,{children:e.jsx(v,{className:"text-red-600",children:x[a].etfTaxes.title})}),e.jsx(j,{children:e.jsx("div",{className:"space-y-3",children:x[a].etfTaxes.items.map((u,g)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:u})]},g))})})]})]}),e.jsx(Se,{language:a}),e.jsx(p,{className:"mt-8",children:e.jsx(j,{className:"pt-6",children:e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:e.jsxs("strong",{children:["⚠️ ",x[a].disclaimer]})})})})})]})})};export{Pe as default};
